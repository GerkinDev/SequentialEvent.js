/**
* @file sequential-event
* 
* This library is a variation of standard event emitters. Handlers are executed sequentialy, and may return Promises if it executes asynchronous code
* Built on 2017-10-17 14:44:14
*
* @license GPL-3.0
* @version 0.1.3
* @author Gerkin
*/
function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SequentialEvent=e()}}(function(){return function e(t,n,o){function i(s,f){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!f&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return i(n||e)},p,p.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";function o(e,t,n){if("function"==typeof e)return i(e,t,n);var o=0,r=e.length;return new Promise(function(s,f){function u(c){if(!(o<r))return s.call(null,c);var p=void 0!==c?n.concat([c]):n.slice(0);i(e[o],t,p).then(u).catch(f),o++}u()})}function i(e,t,n){try{var o=e.apply(t,n);return"object"===(void 0===o?"undefined":_typeof(o))&&"function"==typeof o.then?o:Promise.resolve(o)}catch(e){return Promise.reject(e)}}var r=function e(){_classCallCheck(this,e)};e("uevent").mixin(r.prototype,{trigger:"emit"});var s=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return _inherits(t,r),_createClass(t,[{key:"emit",value:function(e){var t=this.__events;if(!t)return Promise.resolve();var n=t[e];if(!n)return Promise.resolve();for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return o(n,this,r)}}]),t}();t.exports=s},{uevent:2}],2:[function(e,t,n){!function(e,n){void 0!==t&&t.exports?t.exports=n():e.uEvent=n()}(this,function(){"use strict";var e=function(){return!0},t=function(){return!1},n=function(){};return n.Event=function(e,t){var n=e,o=t;Object.defineProperties(this,{type:{get:function(){return n},set:function(e){},enumerable:!0},args:{get:function(){return o},set:function(e){},enumerable:!0}})},n.Event.prototype={constructor:n.Event,isDefaultPrevented:t,isPropagationStopped:t,preventDefault:function(){this.isDefaultPrevented=e},stopPropagation:function(){this.isPropagationStopped=e}},n.prototype={constructor:n,on:function(e,t){if(this.__events=this.__events||{},"object"===(void 0===e?"undefined":_typeof(e)))for(var n in e)e.hasOwnProperty(n)&&(this.__events[n]=this.__events[n]||[],this.__events[n].push(e[n]));else e.split(" ").forEach(function(e){this.__events[e]=this.__events[e]||[],this.__events[e].push(t)},this);return this},off:function(e,t){if(this.__events=this.__events||{},"object"===(void 0===e?"undefined":_typeof(e))){for(var n in e)if(e.hasOwnProperty(n)&&n in this.__events){var o=this.__events[n].indexOf(e[n]);-1!==o&&this.__events[n].splice(o,1)}}else e?e.split(" ").forEach(function(e){if(e in this.__events)if(t){var n=this.__events[e].indexOf(t);-1!==n&&this.__events[e].splice(n,1)}else this.__events[e].length=0},this):this.__events={};return this},once:function(e,t){if(this.__once=this.__once||{},"object"===(void 0===e?"undefined":_typeof(e)))for(var n in e)e.hasOwnProperty(n)&&(this.__once[n]=this.__once[n]||[],this.__once[n].push(e[n]));else e.split(" ").forEach(function(e){this.__once[e]=this.__once[e]||[],this.__once[e].push(t)},this);return this},trigger:function(e){var t,o,i,r=Array.prototype.slice.call(arguments,1),s=new n.Event(e,r);if(r.push(s),this.__events&&e in this.__events)for(t=0,o=this.__events[e].length;t<o;t++)if("object"===(void 0===(i=this.__events[e][t])?"undefined":_typeof(i))?i.handleEvent(s):i.apply(this,r),s.isPropagationStopped())return s;if(this.__once&&e in this.__once){for(t=0,o=this.__once[e].length;t<o;t++)if("object"===(void 0===(i=this.__once[e][t])?"undefined":_typeof(i))?i.handleEvent(s):i.apply(this,r),s.isPropagationStopped())return delete this.__once[e],s;delete this.__once[e]}return s},change:function(e,t){var o,i,r,s=Array.prototype.slice.call(arguments,1),f=new n.Event(e,s);if(s.push(f),this.__events&&e in this.__events)for(o=0,i=this.__events[e].length;o<i;o++)if(s[0]=t,r=this.__events[e][o],t="object"===(void 0===r?"undefined":_typeof(r))?r.handleEvent(f):r.apply(this,s),f.isPropagationStopped())return t;return t}},n.mixin=function(e,t){t=t||{},e="function"==typeof e?e.prototype:e,["on","off","once","trigger","change"].forEach(function(o){var i=t[o]||o;e[i]=n.prototype[o]}),Object.defineProperties(e,{__events:{value:null,writable:!0},__once:{value:null,writable:!0}})},n})},{}]},{},[1])(1)});