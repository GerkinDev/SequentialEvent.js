/**
* @file sequential-event
* 
* This library is a variation of standard event emitters. Handlers are executed sequentialy, and may return Promises if it executes asynchronous code
* Built on 2017-10-30 19:51:06
*
* @license GPL-3.0
* @version 0.2.0
* @author Gerkin
*/
function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SequentialEvent=e()}}(function(){return function e(n,t,r){function o(f,u){if(!t[f]){if(!n[f]){var a="function"==typeof require&&require;if(!u&&a)return a(f,!0);if(i)return i(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var s=t[f]={exports:{}};n[f][0].call(s.exports,function(e){var t=n[f][1][e];return o(t||e)},s,s.exports,e,n,t,r)}return t[f].exports}for(var i="function"==typeof require&&require,f=0;f<r.length;f++)o(r[f]);return o}({1:[function(e,n,t){"use strict";var r=function(e,n,t){if("function"==typeof e)return i(e,n,t);var r=o(e,n,t);return new Promise(r)},o=function(e,n,t){var r=0,o=e.length;return function(f,u){return function a(c){if(!(r<o))return f.call(null,c);var s=void 0!==c?t.concat([c]):t.slice(0);i(e[r],n,s).then(a).catch(u),r++}()}},i=function(e,n,t){try{var r=e.apply(n,t);return"object"===(void 0===r?"undefined":_typeof(r))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}},f=function(e,n,t){var r=!1;return function o(){if(!r)return e.off(n,o),r=!0,t.apply(void 0,arguments)}},u=function(e,n){var t=e.indexOf(n);-1!==t&&e.splice(t,1)},a=function(e,n,t){e[n]=e[n]||[],e[n].push(t)},c=function(e,n){if("object"!==(void 0===e?"undefined":_typeof(e))){var t={};return e.split(" ").forEach(function(e){t[e]=n}),t}return e},s=function(){function e(){_classCallCheck(this,e),this.__events={}}return _createClass(e,[{key:"emit",value:function(e){var n=this.__events;if(!n)return Promise.resolve();var t=n[e];if(!t)return Promise.resolve();for(var o=arguments.length,i=Array(o>1?o-1:0),f=1;f<o;f++)i[f-1]=arguments[f];return r(t,this,i)}},{key:"off",value:function(e,n){var t=this.__events;if(!e)return this.__events={},this;var r=c(e,n);for(var o in r)r.hasOwnProperty(o)&&(r[o]?u(t[o],r[o]):t[o]=[]);return this}},{key:"once",value:function(e,n){var t=this.__events,r=c(e,n);for(var o in r)r.hasOwnProperty(o)&&a(t,o,f(this,o,r[o]));return this}},{key:"on",value:function(e,n){var t=this.__events,r=c(e,n);for(var o in r)r.hasOwnProperty(o)&&a(t,o,r[o]);return this}}]),e}();n.exports=s},{}]},{},[1])(1)});