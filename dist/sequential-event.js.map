{"version":3,"sources":["sequential-event.js"],"names":["f","exports","module","define","amd","g","window","global","self","SequentialEvent","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","emitHandlers","handlers","object","args","emitHandler","promiseGen","getNextPromise","sourcePromise","Promise","handlersLength","resolve","reject","_getNextPromise","prevResolve","handlersLength2","stepArgs","concat","slice","newPromise","then","catch","handler","retVal","apply","onceify","target","eventName","eventFn","called","once","off","origFn","removeEventListener","eventCat","callback","indexes","indexOf","I","index","Math","min","filter","v","isFinite","splice","addEventListener","eventHash","ensureArray","castToEventObject","events","eventsObj","split","forEach","event","data","Array","constructor","__events","type","retPromise","_events","hasOwnProperty","eventHandler"],"mappings":"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","file":"sequential-event.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.SequentialEvent = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * @file File defining the SequentialEvent class\n * @licence GPLv3\n * @author Gerkin\n */\n\n/**\n * Handle execution of all handlers in sequence.\n *\n * @param   {Function|Function[]} handlers - Function(s) to execute. Each function may return a Promise.\n * @param   {SequentialEvent}     object   - Objecto call event on.\n * @param   {Any[]}               [args]   - Arguments to pass to each called function.\n * @returns {Promise} Promise resolved once each function is executed.\n * @memberof SequentialEvent\n * @author Gerkin\n * @inner\n */\nconst emitHandlers = ( handlers, object, args ) => {\n\t// Check if the provided handler is a single function or an array of functions\n\tif ( 'function' === typeof handlers ) {\n\t\treturn emitHandler( handlers, object, args );\n\t} else {\n\t\tconst promiseGen = getNextPromise( handlers, object, args );\n\t\tconst sourcePromise = new Promise( promiseGen );\n\t\treturn sourcePromise;\n\t}\n};\n\n/**\n * Generate next promise for sequence.\n *\n * @param   {Function|Function[]} handlers - Function(s) to execute. Each function may return a Promise.\n * @param   {SequentialEvent}     object   - Objecto call event on.\n * @param   {Any[]}               [args]   - Arguments to pass to each called function.\n * @returns {Function} Promise handler.\n * @memberof SequentialEvent\n * @author Gerkin\n * @inner\n */\n\nconst getNextPromise = ( handlers, object, args ) => {\n\tlet i = 0;\n\tlet handlersLength = handlers.length;\n\treturn ( resolve, reject ) => {\n\t\tconst _getNextPromise = ( prevResolve ) => {\n\t\t\tconst handlersLength2 = handlers.length;\n\t\t\tif ( handlersLength2 !== handlersLength ) {\n\t\t\t\ti -= handlersLength - handlersLength2;\n\t\t\t\thandlersLength = handlersLength2;\n\t\t\t}\n\t\t\tif ( i < handlersLength ) {\n\t\t\t\tconst stepArgs = 'undefined' !== typeof prevResolve ? args.concat([ prevResolve ]) : args.slice( 0 );\n\t\t\t\tconst newPromise = emitHandler( handlers[i], object, stepArgs );\n\t\t\t\tnewPromise.then( _getNextPromise ).catch( reject );\n\t\t\t\ti++;\n\t\t\t} else {\n\t\t\t\treturn resolve.call( null, prevResolve );\n\t\t\t}\n\t\t};\n\t\treturn _getNextPromise();\n\t};\n};\n\n/**\n * Handle execution of a single handler.\n *\n * @param   {Function}        handler - Function to execute. It may return a Promise.\n * @param   {SequentialEvent} object  - Object to call event on.\n * @param   {Any[]}           [args]  - Arguments to pass to each called function.\n * @returns {Promise} Promise resolved once this function is done.\n * @memberof SequentialEvent\n * @author Gerkin\n * @inner\n */\nconst emitHandler = ( handler, object, args ) => {\n\ttry {\n\t\tconst retVal = handler.apply( object, args );\n\t\tif ( 'object' === typeof retVal && 'function' === typeof retVal.then ) {\n\t\t\treturn retVal;\n\t\t} else {\n\t\t\treturn Promise.resolve( retVal );\n\t\t}\n\t} catch ( e ) {\n\t\treturn Promise.reject( e );\n\t}\n};\n\n/**\n * Generate an event handler that deregister itself when executed. This handler will be executed just once.\n *\n * @param   {Object}   target    - Event emitter that will use the handler.\n * @param   {string}   eventName - Name of the event to trigger.\n * @param   {Function} eventFn   - Handler for the event.\n * @returns {Function} Function that will be executed only once.\n * @memberof SequentialEvent\n * @author Gerkin\n * @inner\n */\nconst onceify = ( target, eventName, eventFn ) => {\n\tlet called = false;\n\tconst once = function once( ...args ) {\n\t\tif ( !called ) {\n\t\t\ttarget.off( eventName, once );\n\t\t\tcalled = true;\n\t\t\treturn eventFn( ...args );\n\t\t}\n\t};\n\tonce.origFn = eventFn;\n\treturn once;\n};\n\n/**\n * Remove provided `callback` from listeners of event `eventCat`.\n *\n * @param   {Function[]} eventCat   - Array of listeners to remove callback from.\n * @param   {Function}   [callback] - Callback to remove.\n * @returns {undefined} This function does not returns anything.\n * @memberof SequentialEvent\n * @author Gerkin\n * @inner\n */\nconst removeEventListener = ( eventCat, callback ) => {\n\tconst indexes = [ eventCat.indexOf( callback ), (() => {\n\t\tconst I = eventCat.length;\n\t\tfor ( let i = 0; i < I; i++ ) {\n\t\t\tif ( eventCat[i].origFn === callback ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t})() ];\n\tconst index = Math.min( ...indexes.filter( v => v >= 0 ));\n\tif ( isFinite( index )) {\n\t\teventCat.splice( index, 1 );\n\t}\n};\n\n\n/**\n * Add an event listener to the provided event hash.\n *\n * @param   {Object}   eventHash  - Hash of events of the object. It is usually retrieved from `object.__events`.\n * @param   {string}   eventName  - Name of the event to add listener on.\n * @param   {Function} [callback] - Callback to add.\n * @returns {undefined} This function does not returns anything.\n * @memberof SequentialEvent\n * @author Gerkin\n * @inner\n */\nconst addEventListener = ( eventHash, eventName, callback ) => {\n\teventHash[eventName] = ensureArray( eventHash[eventName]).concat( ensureArray( callback ));\n};\n\n/**\n * Ensure that event & callback are on the associative hash format.\n *\n * @param   {Object<string, Function>|string} events   - Events to cast in hash form.\n * @param   {Function}                        callback - Function to associate with those events.\n * @returns {Object<string, Function>} Events in hash format.\n * @memberof SequentialEvent\n * @author Gerkin\n * @inner\n */\nconst castToEventObject = ( events, callback ) => {\n\tif ( 'object' !== typeof events ) {\n\t\tconst eventsObj = {};\n\t\tevents.split( ' ' ).forEach( event => {\n\t\t\teventsObj[event] = callback;\n\t\t});\n\t\treturn eventsObj;\n\t} else {\n\t\treturn events;\n\t}\n};\n\nconst ensureArray = data => {\n\tif ( 'undefined' === typeof data ) {\n\t\treturn [];\n\t}\n\treturn Array === data.constructor ? data : [ data ];\n};\n\n/**\n * Event emitter that guarantees sequential execution of handlers. Each handler may return a **Promise**.\n *\n * @see {@link https://nodejs.org/api/events.html Node EventEmitter}.\n */\nclass SequentialEvent {\n\t/**\n\t * Constructs a new SequentialEvent.\n\t *\n\t * @author Gerkin\n\t */\n\tconstructor() {\n\t\tthis.__events = {};\n\t}\n\n\t/**\n\t * Triggers each corresponding handlers in sequence.\n\t *\n\t * @param   {Any}   type   - Name of the event to sequential-event.\n\t * @param   {Any[]} [args] - Parameters to pass to handlers.\n\t * @returns {Promise} Returns a Promise resolved when then chain is done.\n\t * @author Gerkin\n\t */\n\temit( type, ...args ) {\n\t\tconst events = this.__events;\n\n\t\tconst handler = events[type];\n\t\tif ( !handler ) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst retPromise = emitHandlers( handler, this, args );\n\n\t\treturn retPromise;\n\t}\n\n\t/**\n\t * Remove one or many or all event handlers.\n\t *\n\t * @param   {string|Object} [events]   - Event name or hash of events.\n\t * @param   {Function}      [callback] - If provided an event name with `events`, function to associate with the event.\n\t * @returns {SequentialEvent} Returns `this`.\n\t */\n\toff( events, callback ) {\n\t\tconst _events = this.__events;\n\n\t\tif ( !events ) {\n\t\t\tthis.__events = {};\n\t\t\treturn this;\n\t\t}\n\n\t\tconst eventsObj = castToEventObject( events, callback );\n\t\tfor ( const event in eventsObj ) {\n\t\t\tif ( eventsObj.hasOwnProperty( event )) {\n\t\t\t\tif ( eventsObj[event]) {\n\t\t\t\t\tremoveEventListener( _events[event], eventsObj[event]);\n\t\t\t\t} else {\n\t\t\t\t\t_events[event] = [];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Add one or many event handlers that will be called only once.\n\t *\n\t * @param   {string|Object} events     - Event name or hash of events.\n\t * @param   {Function}      [callback] - If provided an event name with `events`, function to associate with the event.\n\t * @returns {SequentialEvent} Returns `this`.\n\t */\n\tonce( events, callback ) {\n\t\tconst _events = this.__events;\n\n\t\tconst eventsObj = castToEventObject( events, callback );\n\t\tfor ( const event in eventsObj ) {\n\t\t\tif ( eventsObj.hasOwnProperty( event )) {\n\t\t\t\tconst events = ensureArray( eventsObj[event]);\n\t\t\t\tevents.forEach( eventHandler => {\n\t\t\t\t\taddEventListener( _events, event, onceify( this, event, eventHandler ));\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Add one or many event handlers.\n\t *\n\t * @param   {string|Object} events     - Event name or hash of events.\n\t * @param   {Function}      [callback] - If provided an event name with `events`, function to associate with the event.\n\t * @returns {SequentialEvent} Returns `this`.\n\t */\n\ton( events, callback ) {\n\t\tconst _events = this.__events;\n\n\t\tconst eventsObj = castToEventObject( events, callback );\n\t\tfor ( const event in eventsObj ) {\n\t\t\tif ( eventsObj.hasOwnProperty( event )) {\n\t\t\t\taddEventListener( _events, event, eventsObj[event]);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n}\n\nmodule.exports = SequentialEvent;\n\n},{}]},{},[1])(1)\n});"]}